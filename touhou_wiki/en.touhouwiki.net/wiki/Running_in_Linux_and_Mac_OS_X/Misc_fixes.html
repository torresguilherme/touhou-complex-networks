<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from en.touhouwiki.net/wiki/Running_in_Linux_and_Mac_OS_X/Misc_fixes by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 31 May 2019 20:14:28 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>Running in Linux and Mac OS X/Misc fixes - Touhou Wiki - Characters, games, locations, and more</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Running_in_Linux_and_Mac_OS_X/Misc_fixes","wgTitle":"Running in Linux and Mac OS X/Misc fixes","wgCurRevisionId":308345,"wgRevisionId":308345,"wgArticleId":33480,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Running_in_Linux_and_Mac_OS_X/Misc_fixes","wgRelevantArticleId":33480,"wgRequestId":"b1f5fded5bca0a1b21c78cd5","wgCSPNonce":false,"wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":[],"wgBetaFeaturesFeatures":[],"wgCollapsibleVectorEnabledModules":{"collapsiblenav":true,"experiments":true},"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}","wgMFMode":"stable","wgMFLazyLoadImages":true,"wgMFLazyLoadReferences":false,"wgMFExpandAllSectionsUserOption":true,"wgMFEnableFontChanger":true,"wgMFDisplayWikibaseDescriptions":{"search":false,"nearby":false,"watchlist":false,"tagline":false}});mw.loader.state({"user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.toc.styles":"ready","skins.vector.styles.responsive":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@0tffind",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});RLPAGEMODULES=["mediawiki.page.startup","mediawiki.user","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","mobile.site","mobile.init"];mw.loader.load(RLPAGEMODULES);});</script>
<link rel="stylesheet" href="../../loadd94d.css?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.shared%7Cmediawiki.skinning.interface%7Cmediawiki.toc.styles%7Cskins.vector.styles%7Cskins.vector.styles.responsive&amp;only=styles&amp;skin=vector"/>
<script async="" src="../../load6058.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;target=mobile"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<meta name="generator" content="MediaWiki 1.32.1"/>
<meta name="description" content="MIDI works fine as long as OSS audio driver is used and there&#039;s some synth behind."/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="manifest" href="../../api-resultc989.json?action=webapp-manifest"/>
<link rel="shortcut icon" href="../../favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch_desc.html" title="Touhou Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="../../api-result251f.xml?action=rsd"/>
<link rel="license" href="../Touhou_Wiki_Copyrights.html"/>
	<meta property="og:type" content="article"/>

	<meta property="og:site_name" content="Touhou Wiki"/>

	<meta property="og:title" content="Running in Linux and Mac OS X/Misc fixes"/>

	<meta property="og:description" content="MIDI works fine as long as OSS audio driver is used and there&#039;s some synth behind."/>

	<meta property="og:url" content="//en.touhouwiki.net/wiki/Running_in_Linux_and_Mac_OS_X/Misc_fixes"/>


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-34275641-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag("js", new Date());
  gtag("config", "UA-34275641-1");
</script>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Running_in_Linux_and_Mac_OS_X_Misc_fixes rootpage-Running_in_Linux_and_Mac_OS_X skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="siteNotice" class="mw-body-content"><div id="localNotice" lang="en" dir="ltr"><div class="mw-parser-output"><div id="scrollDiv">
<ul>
<li>Welcome to Touhou Wiki!</li>
<li>Please <a href="../Special_RequestAccount.html" title="Special:RequestAccount">register</a> to edit.  For assistance, check in with our <a rel="nofollow" class="external text" href="https://discord.gg/jkStRPc">Discord server</a> or <a rel="nofollow" class="external text" href="http://webchat.esper.net/?nick=NamelessFairy...&amp;channels=touhouwiki&amp;prompt=1">IRC channel</a>.</li>
</ul>
</div>
</div></div></div><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">Running in Linux and Mac OS X/Misc fixes</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Touhou Wiki</div>				<div id="contentSub"><span class="subpages">&lt; <a href="../Running_in_Linux_and_Mac_OS_X.html" title="Running in Linux and Mac OS X">Running in Linux and Mac OS X</a></span></div>
				<div id="jump-to-nav"></div>				<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
				<a class="mw-jump-link" href="#p-search">Jump to search</a>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><script>function mfTempOpenSection(id){var block=document.getElementById("mf-section-"+id);block.className+=" open-block";block.previousSibling.className+=" open-block";}</script><div class="mw-parser-output"><div class="mf-section-0" id="mf-section-0"><div class="mw-parser-output">

<h2><span class="mw-headline" id="Audio">Audio</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="../../indexc9bf.php?title=Running_in_Linux_and_Mac_OS_X/Misc_fixes&amp;action=edit&amp;section=1" title="Edit section: Audio">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>MIDI works fine as long as OSS audio driver is used and there's some synth behind.
</p><p>For <i>emu10k1</i>-based soundcards, be sure to load a proper soundbank with <i>sfxload</i>.
</p><p>If you're running Ubuntu or using PulseAudio for some other God-forsaken reason, it's dangerous to go alone. Take this:  <a rel="nofollow" class="external free" href="http://www.hackido.com/2009/10/quick-tip-solve-skipping-audio-in-wine.html">http://www.hackido.com/2009/10/quick-tip-solve-skipping-audio-in-wine.html</a>
</p>
<h2><span class="mw-headline" id="Video">Video</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="../../index0512.php?title=Running_in_Linux_and_Mac_OS_X/Misc_fixes&amp;action=edit&amp;section=2" title="Edit section: Video">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Fullscreen support may be a little flakey depending on your window manager, desktop environment, wine options, and video drivers.
</p><p>Renicing the games might help to get a lower slow score.
</p>
<pre>% pgrep thXX | xargs renice -2
</pre>
<p>You may have to run <i>renice</i> as <i>root</i> (using <i>sudo</i>) depending on system configuration.
Do not run Wine as <i>root</i>.
</p><p><br>
</p>
<h3 class="in-block"><span class="mw-headline" id="VSync_problems">VSync problems</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="../../indexa7fa.php?title=Running_in_Linux_and_Mac_OS_X/Misc_fixes&amp;action=edit&amp;section=3" title="Edit section: VSync problems">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>For most of the shooter games, running at more than 60 frames per second prevents you from saving replays. With Touhou, this makes the game harder, since you're playing at a higher speed. On Linux (nVidia drivers in particular), the frame rate may be forced higher.
</p><p>If the game doesn't respect the fps limiter and runs higher than 60FPS, try one of the solutions below:
</p>
<h4 class="in-block"><span class="mw-headline" id="Enabling_vsync_on_command_line">Enabling vsync on command line</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="../../index87cf.php?title=Running_in_Linux_and_Mac_OS_X/Misc_fixes&amp;action=edit&amp;section=4" title="Edit section: Enabling vsync on command line">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<ol><li>Disable any desktop effect you may have on (compiz/kwin/...)</li>
<li>Run the game with __GL_SYNC_TO_VBLANK=1 (for example: <b>__GL_SYNC_TO_VBLANK=1 wine th13.exe</b>)</li></ol>
<h4 class="in-block"><span class="mw-headline" id="Editting_xorg.conf">Editting xorg.conf</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="../../index1fa1-3.php?title=Running_in_Linux_and_Mac_OS_X/Misc_fixes&amp;action=edit&amp;section=5" title="Edit section: Editting xorg.conf">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Note that this is more complicated, requires root access, can screw X up, and is not supported on newer distros which do not have xorg.conf anymore.
</p><p>(this<a rel="nofollow" class="external autonumber" href="http://appdb.winehq.org/objectManager.php?sClass=version&amp;iId=15902&amp;iTestingId=38856">[1]</a> winehq thread is for ufo demo, but works for all the games):
</p><p>(Only applies to LCD monitors and Nvidia drivers)
</p><p>Edit your /etc/X11/xorg.conf (command <i>sudo nano /etc/X11/xorg.conf</i>) adding this under the <i>Device</i> section
</p>
<pre>       <i>Option "UseEdidFreqs" "false"</i>
</pre>
<p>This disables override of HorizSync and VertRefresh values in xorg.conf.
Then under <i>Monitor</i> section, change the HorizSync and VertRefresh to match those of your monitor. Check your manual or the manufacturer's webpage. Then change the upper limit of VertRefresh to 60.0. Example:
</p>
<pre>       <i>HorizSync 30.0 - 81.0</i>
       <i>VertRefresh 43.0 - 60.0</i>
</pre>
<p>Also, make sure to disable Compiz, and also to enable VSync at nvidia-settings while playing.
</p>
<h2><span class="mw-headline" id="Game-specific">Game-specific</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="../../index67f9-2.php?title=Running_in_Linux_and_Mac_OS_X/Misc_fixes&amp;action=edit&amp;section=6" title="Edit section: Game-specific">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3 class="in-block"><span class="mw-headline" id="Immaterial_and_Missing_Power">Immaterial and Missing Power</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="../../index50bc.php?title=Running_in_Linux_and_Mac_OS_X/Misc_fixes&amp;action=edit&amp;section=7" title="Edit section: Immaterial and Missing Power">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The configuration file <i>config.exe</i> is not runnable in wine. See <a rel="nofollow" class="external text" href="http://bugs.winehq.org/show_bug.cgi?id=13554">bug 13554</a>.
</p>
<h3 class="in-block"><span class="mw-headline" id="The_Embodiment_of_Scarlet_Devil">The Embodiment of Scarlet Devil</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="../../index2f2f-3.php?title=Running_in_Linux_and_Mac_OS_X/Misc_fixes&amp;action=edit&amp;section=8" title="Edit section: The Embodiment of Scarlet Devil">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>One user reported a problem of the game not respecting the 60 FPS limiter setting on fullscreen. See <a rel="nofollow" class="external text" href="http://bugs.winehq.org/show_bug.cgi?id=13085">bug 13085</a>.
It was circumvented by setting the game in windowed mode and, because you can't play this game in a tiny window, setting the desktop to 640x480 before launching the game. Don't use <i>Ctrl+Alt+KP_Minus</i> for this though; that doesn't change the <i>Virtual Resolution</i> (i.e. what all the applications think your resolution is), only what you can see of it. So use <i>xrandr -s 640x480</i>, and when you're done <i>xrandr -s <b>oldres</b></i>.
</p><p>Alternatively, if you are using nVidia's binary drivers try setting the environment variable <i>__GL_SYNC_TO_VBLANK</i> to 1 for the application.
</p><p>If you're using ATI fglrx you can do basically the same thing: in the Catalyst Control Center, click the arrow next to "3D," select "More Settings," and move the "Wait for vertical refresh" slider all the way to the right ("Always on").
</p>
<h3 class="in-block"><span class="mw-headline" id="Phantasmagoria_of_Flower_View">Phantasmagoria of Flower View</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="../../index9f3f.php?title=Running_in_Linux_and_Mac_OS_X/Misc_fixes&amp;action=edit&amp;section=9" title="Edit section: Phantasmagoria of Flower View">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>If the game crashes at startup after patching to 1.50a, try using a native <i>dpnet.dll</i>. See <a rel="nofollow" class="external text" href="http://bugs.winehq.org/show_bug.cgi?id=18394">bug 18394</a>.
</p>
<h3 class="in-block"><span id="Mountain_of_Faith,_Subterranean_Animism,_Undefined_Fantastic_Object,_MegaMari"></span><span class="mw-headline" id="Mountain_of_Faith.2C_Subterranean_Animism.2C_Undefined_Fantastic_Object.2C_MegaMari">Mountain of Faith, Subterranean Animism, Undefined Fantastic Object, MegaMari</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="../../indexbcc3.php?title=Running_in_Linux_and_Mac_OS_X/Misc_fixes&amp;action=edit&amp;section=10" title="Edit section: Mountain of Faith, Subterranean Animism, Undefined Fantastic Object, MegaMari">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>A native <i>d3dx9_36.dll</i> is required for these games to run. <a rel="nofollow" class="external text" href="http://www.google.com/search?q=d3dx9_36.dll">Google for it</a> and place it in the application directory. See <a rel="nofollow" class="external text" href="http://bugs.winehq.org/show_bug.cgi?id=13297">bug 13297</a>.
</p><p>However, even with a native <i>d3dx9_36.dll</i> text gets nearly invisible, making dialogue very hard to read. Gameplay is not affected though. See <a rel="nofollow" class="external text" href="http://bugs.winehq.org/show_bug.cgi?id=15146">bug 15146</a>.
</p><p>As of Wine 1.1.43, you no longer need d3dx9_36.dll to run the game. However, for MoF, SA and UFO, some text (what would normally be fuzzy) doesn't show at all.
</p>
<h3 class="in-block"><span id="Scarlet_Weather_Rhapsody,_Hisoutensoku,_PatchCon"></span><span class="mw-headline" id="Scarlet_Weather_Rhapsody.2C_Hisoutensoku.2C_PatchCon">Scarlet Weather Rhapsody, Hisoutensoku, PatchCon</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="../../index6f91.php?title=Running_in_Linux_and_Mac_OS_X/Misc_fixes&amp;action=edit&amp;section=11" title="Edit section: Scarlet Weather Rhapsody, Hisoutensoku, PatchCon">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>These also refuse to run without a native <i>d3dx9_36.dll</i>. In this case the native file does not help, as it immediately hangs on another problem. See <a rel="nofollow" class="external text" href="http://bugs.winehq.org/show_bug.cgi?id=13490">Bug 13490</a> for more information.
</p><p>I very recently had some success running SWR on Linux.  I copied over from my windows install (with the .dll already in the folder), and the game started right up.  I'm running Arch linux's rolling release with everything up-to-date as of May 3rd.  Not all features worked, the worst of which being the network play (crashes the game).  Wine version 1.1.20
</p><p>[ EDIT: In Custom.exe, <b>turn DirectInput on</b> and this will fix the problem at least for PCB! Tested on Arch Linux 2.6.35 / Wine 1.3.3 ]
</p>
<h3 class="in-block"><span class="mw-headline" id="Shoot_The_Bullet">Shoot The Bullet</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="../../index3320.php?title=Running_in_Linux_and_Mac_OS_X/Misc_fixes&amp;action=edit&amp;section=12" title="Edit section: Shoot The Bullet">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>STB runs, but photos will not capture. This can be fixed with a custom wine build. Comment out this block in dlls/wined3d/surface.c: (line 2667 in 1.1.40)
</p>
<pre>   if (This-&gt;resource.pool == WINED3DPOOL_SCRATCH )
   {
       FIXME("(%p) Operation not supported for scratch textures\n",This);
       return WINED3DERR_INVALIDCALL;
   }
</pre>
<p>New photos will appear, but the already taken ones will remain black.
</p><p>(Different user: I never have this problem with Shoot the Bullet. Only Double Spoiler. And as noted, that can be fixed by using the proprietary d3dx9_36.dll)
</p>
<h3 class="in-block"><span id="Double_Spoiler,_Fairy_Wars"></span><span class="mw-headline" id="Double_Spoiler.2C_Fairy_Wars">Double Spoiler, Fairy Wars</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="../../indexe163.php?title=Running_in_Linux_and_Mac_OS_X/Misc_fixes&amp;action=edit&amp;section=13" title="Edit section: Double Spoiler, Fairy Wars">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Is playable without special hacks, but certain graphical effects won't work unless you're using d3dx9_36.dll. Notably, certain text and menu graphics don't appear, and you take blank pictures in Double Spoiler.
</p>
<h2><span class="mw-headline" id="PC-98_Games">PC-98 Games</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="../../indexf814.php?title=Running_in_Linux_and_Mac_OS_X/Misc_fixes&amp;action=edit&amp;section=14" title="Edit section: PC-98 Games">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>There is a port of Neko Project II for Linux and Mac OS X called <a rel="nofollow" class="external text" href="http://www.nonakap.org/np2/">Xnp2</a>. At the present time it seems to have some sound problems, requiring a rather large sound buffer to avoid stuttering.
</p><p>The program needs to be compiled from source. To install dependencies:
</p>
<pre>$ sudo aptitude install build-essential nasm checkinstall libsdl1.2-dev libsdl-mixer1.2-dev libgtk2.0-dev libxxf86vm-dev
</pre>
<p>replacing aptitude with your distribution's package manager where necessary.
</p><p>To compile, change to the source folder, then:
</p>
<pre>$ ./configure --enable-ia32
$ make
</pre>
<p>Make sure the --enable-ia32 flag is supplied. Otherwise, the i386 instructions will be missing and the games will not run (same as running np2.exe on fmgen). After this, follow the settings above to configure the system, but you may have to set the sound buffer up to 200ms or more to avoid stuttering; this may result in audio lag.
</p><p>All the usual PC-98 emulators for Windows work without any significant problems in Wine; in particular, the fmgen build of Neko Project II (recommended for Windows) works without any modifications. If you wish to play without audio lag this is the recommended way of playing on Linux/Mac OS X.
</p>
<h2><span class="mw-headline" id="Miscellaneous">Miscellaneous</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="../../index0ebd.php?title=Running_in_Linux_and_Mac_OS_X/Misc_fixes&amp;action=edit&amp;section=15" title="Edit section: Miscellaneous">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3 class="in-block"><span class="mw-headline" id="Remapping_Keys">Remapping Keys</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="../../indexe238.php?title=Running_in_Linux_and_Mac_OS_X/Misc_fixes&amp;action=edit&amp;section=16" title="Edit section: Remapping Keys">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>It's very easy to remap keys using <i>XMODMAP</i>.  Consider the following script (for <a href="../Imperishable_Night.html" title="Imperishable Night">Imperishable Night</a>):
</p>
<pre>#!/bin/bash
xmodmap -e "keycode 39 = Z"
xmodmap -e "keycode 40 = X"
xmodmap -e "keycode 84 = KP_2"
xmodmap -e "keycode 24 = Escape"
cd /path/to/th08/
wine ./th08.exe
xmodmap -e "keycode 39 = S"
xmodmap -e "keycode 40 = D"
xmodmap -e "keycode 84 = KP_5"
xmodmap -e "keycode 24 = Q"
</pre>
<p>There are a few distinct parts of this script.  After the first hashbang line, there are four commands invoking <i>xmodmap</i>.  These commands remap the keyboard temporarily <b>for the entire desktop</b>.  The first two lines remap <i>Z</i> and <i>X</i> to <i>S</i> and <i>D</i>, respectively.  The next one maps Numpad 2 to Numpad 5.  This is useful for users who wish to use the numpad like the arrow keys.  The next line maps the escape button to <i>Q</i> (to decrease the amount that the hand has to move from its normal position to pause or restart the game).
</p><p>The next two lines invoke the game itself.  First, the script changes the directory to ensure that the background music works.  It then invokes <i>wine ./th08.exe</i>.  After the game has quit, <i>xmodmap</i> is invoked once again to reset the key configuration (this is important!).
</p><p>It should not be too difficult to modify the script above to work with other games.
</p>
<h4 class="in-block"><span class="mw-headline" id="How_to_Get_Keycodes">How to Get Keycodes</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="../../indexd27f-2.php?title=Running_in_Linux_and_Mac_OS_X/Misc_fixes&amp;action=edit&amp;section=17" title="Edit section: How to Get Keycodes">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The syntax the <i>xmodmap</i> command to assign a keycode to a key is:
</p>
<pre>xmodmap -e "keycode {KEYCODE} = {ASSIGNMENT}"
</pre>
<p>To get the keycode, <i>xev</i> can be used.  Simply start <i>xev</i> by invoking it from a console.  Press a key.  Then, look for information regarding the key press.
</p><p>For example:
</p>
<pre>KeyRelease event, serial 31, synthetic NO, window 0x3000001,
    root 0x1a6, subw 0x0, time 14040642, (53,205), root:(2001,267),
    state 0x10, <b>keycode 38</b> (keysym 0x61, <b>a</b>), same_screen YES,
    XLookupString gives 1 bytes: (61) "a"
    XFilterEvent returns: False
</pre>
<p>The key <i>A</i> is currently mapped to keycode 38.
</p>
<pre>KeyRelease event, serial 31, synthetic NO, window 0x3000001,
    root 0x1a6, subw 0x0, time 14142576, (-360,480), root:(1588,542),
    state 0x10, <b>keycode 39</b> (keysym 0x73, <b>s</b>), same_screen YES,
    XLookupString gives 1 bytes: (73) "s"
    XFilterEvent returns: False
</pre>
<p>The key <i>S</i> is mapped to keycode 39.
</p><p>To make <i>xmodmap</i> map <i>A</i> to <i>S</i> (that is every time the original <i>S</i> key is pressed, the character <i>A</i> is typed) invoke:
</p>
<pre>xmodmap -e "keycode 39 = A"
                    ^    ^- The value desired (from the first xev output above)
                    |- The key desired (from the second xev output above)
</pre>
<p>To return the key back to its original state:
</p>
<pre>xmodmap -e "keycode 39 = S"
</pre>
<p>In this manner, the Touhou key configuration can be easily changed.
</p>
<h3 class="in-block"><span class="mw-headline" id="Joysticks">Joysticks</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="../../index1e06.php?title=Running_in_Linux_and_Mac_OS_X/Misc_fixes&amp;action=edit&amp;section=18" title="Edit section: Joysticks">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Joysticks should work without problems as long as the right modules are loaded.
You'll need at least a connection-specific driver (such as <i>gamecon</i> for controllers wired to the parallel port) and the <i>joydev</i> driver for the device in <i>/dev/input</i>.
</p><p>It's a good idea to calibrate the input device if you are going to use any of its analog inputs.
<i>jscal</i> in the <i>joyutils</i> package will help with this.
</p><p>If input appears laggy or unresponsive, disabling "directx input" via the custom.exe in the touhou game dir might help.
</p>




</div></div></div></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="../../index3fb6.php?title=Running_in_Linux_and_Mac_OS_X/Misc_fixes&amp;oldid=308345">http://en.touhouwiki.net/index.php?title=Running_in_Linux_and_Mac_OS_X/Misc_fixes&amp;oldid=308345</a>"					</div>
				<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="../Special_Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../Category_Technical_Information.html" title="Category:Technical Information">Technical Information</a></li></ul></div></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="../../index16bb.php?title=Special:UserLogin&amp;returnto=Running+in+Linux+and+Mac+OS+X%2FMisc+fixes" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="../Special_RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Request account</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="Misc_fixes.html" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk" class="new"><span><a href="../../index42c3-2.php?title=Talk:Running_in_Linux_and_Mac_OS_X/Misc_fixes&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Talk</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="Misc_fixes.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="../../indexcb7f.php?title=Running_in_Linux_and_Mac_OS_X/Misc_fixes&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="../../indexcd3c.php?title=Running_in_Linux_and_Mac_OS_X/Misc_fixes&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://en.touhouwiki.net/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Touhou Wiki" title="Search Touhou Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="../Touhou_Wiki.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage-description"><a href="../Touhou_Wiki.html" title="Visit the main page [z]" accesskey="z">Main page</a></li><li id="n-portal"><a href="../Touhou_Wiki_Community_portal.html" title="About the project, what you can do, where to find things">Community portal</a></li><li id="n-recentchanges"><a href="../Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="../Lyrics__Last_Reharts.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-Discord-Server"><a href="https://discord.gg/jkStRPc" rel="nofollow">Discord Server</a></li><li id="n-IRC-Channel"><a href="http://webchat.esper.net/?nick=NamelessFairy...&amp;channels=touhouwiki&amp;prompt=1" rel="nofollow">IRC Channel</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-Games" aria-labelledby="p-Games-label">
			<h3 id="p-Games-label">Games</h3>
			<div class="body">
								<ul>
					<li id="n-Official-Games"><a href="../Touhou_Wiki.html">Official Games</a></li><li id="n-Related-games"><a href="../Related_games.html">Related games</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-Music" aria-labelledby="p-Music-label">
			<h3 id="p-Music-label">Music</h3>
			<div class="body">
								<ul>
					<li id="n-Official-CDs"><a href="../Music_CDs.html">Official CDs</a></li><li id="n-Game-soundtracks"><a href="../Category_Music_by_Game.html">Game soundtracks</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-Print_Works" aria-labelledby="p-Print_Works-label">
			<h3 id="p-Print_Works-label">Print Works</h3>
			<div class="body">
								<ul>
					<li id="n-Official-Literature"><a href="../Official_Literature.html">Official Literature</a></li><li id="n-Comics"><a href="../Comics.html">Comics</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-Derivative_Works" aria-labelledby="p-Derivative_Works-label">
			<h3 id="p-Derivative_Works-label">Derivative Works</h3>
			<div class="body">
								<ul>
					<li id="n-Doujin-Portal"><a href="../Doujin_portal.html">Doujin Portal</a></li><li id="n-Circles"><a href="../Doujin_circles.html">Circles</a></li><li id="n-Games"><a href="../Fangames.html">Games</a></li><li id="n-Music"><a href="../Doujin_music.html">Music</a></li><li id="n-Fanfiction"><a href="../Category_Fanfiction.html">Fanfiction</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-Encyclopedia" aria-labelledby="p-Encyclopedia-label">
			<h3 id="p-Encyclopedia-label">Encyclopedia</h3>
			<div class="body">
								<ul>
					<li id="n-Gensokyo"><a href="../Gensokyo.html">Gensokyo</a></li><li id="n-Characters"><a href="../Category_Characters.html">Characters</a></li><li id="n-Spell-cards"><a href="../List_of_Spell_Cards.html">Spell cards</a></li><li id="n-Bestiary"><a href="../Category_Bestiary.html">Bestiary</a></li><li id="n-Locations"><a href="../Category_Locations.html">Locations</a></li><li id="n-Gameplay"><a href="../Category_Gameplay.html">Gameplay</a></li><li id="n-Strategy"><a href="../Category_Strategy.html">Strategy</a></li><li id="n-High-scores"><a href="../High_scores.html">High scores</a></li><li id="n-Glossary"><a href="../Glossary.html">Glossary</a></li><li id="n-Config"><a href="../Config.html">Config</a></li><li id="n-Replays"><a href="../Replays.html">Replays</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-Miscellaneous" aria-labelledby="p-Miscellaneous-label">
			<h3 id="p-Miscellaneous-label">Miscellaneous</h3>
			<div class="body">
								<ul>
					<li id="n-Purchasing-Guide"><a href="../Purchasing_Guide.html">Purchasing Guide</a></li><li id="n-English-patches"><a href="../English_patches.html">English patches</a></li><li id="n-Running-in-Linux-and-Mac-OS-X"><a href="../Running_in_Linux_and_Mac_OS_X.html">Running in Linux and Mac OS X</a></li><li id="n-Game-Tools-and-Modifications"><a href="../Game_Tools_and_Modifications.html">Game Tools and Modifications</a></li><li id="n-The-Sandbox-of-Eastern-Illusion"><a href="../Touhou_Wiki_Touhou_Genshajyou.html">The Sandbox of Eastern Illusion</a></li><li id="n-Links"><a href="../Links.html">Links</a></li><li id="n-Other-Random-Things"><a href="../Random_Things.html">Other Random Things</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-Support" aria-labelledby="p-Support-label">
			<h3 id="p-Support-label">Support</h3>
			<div class="body">
								<ul>
					<li id="n-Community-Discussion"><a href="../Talk_Touhou_Wiki.html">Community Discussion</a></li><li id="n-User-account-rights"><a href="../Help_Group_rights.html">User account rights</a></li><li id="n-Report-an-Issue"><a href="../Talk_Touhou_Wiki.html">Report an Issue</a></li><li id="n-How-to-Edit-a-Wiki"><a href="http://en.wikipedia.org/wiki/How_to_edit_a_page">How to Edit a Wiki</a></li><li id="n-Editing-Reference"><a href="../Touhou_Wiki_Wiki_Tutorial.html">Editing Reference</a></li><li id="n-Touhou-Wiki-Guidelines"><a href="../Touhou_Wiki_Guidelines.html">Touhou Wiki Guidelines</a></li><li id="n-Staff-Members"><a href="../Touhou_Wiki_Administrators.html">Staff Members</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Tools</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="../Special_WhatLinksHere/Running_in_Linux_and_Mac_OS_X/Misc_fixes" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="../Special_RecentChangesLinked/Running_in_Linux_and_Mac_OS_X/Misc_fixes" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-upload"><a href="https://onsen.touhouwiki.net/index.php/Special:Upload" title="Upload files [u]" accesskey="u">Upload file</a></li><li id="t-specialpages"><a href="../Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="../../index9251-2.php?title=Running_in_Linux_and_Mac_OS_X/Misc_fixes&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="../../index3fb6.php?title=Running_in_Linux_and_Mac_OS_X/Misc_fixes&amp;oldid=308345" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="../../indexbe95.php?title=Running_in_Linux_and_Mac_OS_X/Misc_fixes&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="../Touhou_Wiki_Privacy_policy.html" title="Touhou Wiki:Privacy policy">Privacy</a></li>
								<li id="footer-places-desktop-toggle"><a id="mw-mf-display-toggle" href="../../index1019.php?title=Running_in_Linux_and_Mac_OS_X/Misc_fixes&amp;mobileaction=toggle_view_desktop">Desktop</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="https://creativecommons.org/licenses/by-sa/4.0/"><img src="../../resources/assets/licenses/cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike 4.0 International License." width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="../../resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.025","walltime":"0.027","ppvisitednodes":{"value":70,"limit":1000000},"ppgeneratednodes":{"value":76,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":0,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20190531013259","ttl":86400,"transientcontent":false}}});});</script>
<script>(window.NORLQ=window.NORLQ||[]).push(function(){var ns,i,p,img;ns=document.getElementsByTagName('noscript');for(i=0;i<ns.length;i++){p=ns[i].nextSibling;if(p&&p.className&&p.className.indexOf('lazy-image-placeholder')>-1){img=document.createElement('img');img.setAttribute('src',p.getAttribute('data-src'));img.setAttribute('width',p.getAttribute('data-width'));img.setAttribute('height',p.getAttribute('data-height'));img.setAttribute('alt',p.getAttribute('data-alt'));p.parentNode.replaceChild(img,p);}}});</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":227});});</script>
	</body>

<!-- Mirrored from en.touhouwiki.net/wiki/Running_in_Linux_and_Mac_OS_X/Misc_fixes by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 31 May 2019 20:14:29 GMT -->
</html>
